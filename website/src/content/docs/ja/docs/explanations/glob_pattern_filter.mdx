---
title: グロブ パターン フィルターの動作
description: Code2Prompt がインクルードおよびエクスクルード パターンを処理する方法を詳しく解説します。
---

このツールは、glob パターンを使用してファイルとディレクトリをインクルードまたはエクスクルードしますが、その動作は `tree` や `grep` などのツールと似ています。以下に詳細な説明を示します。

## 主要な概念

- **インクルード リスト (A)**: インクルードしたいファイルとディレクトリの glob パターンを含むセットです。
- **エクスクルード リスト (B)**: エクスクルードしたいファイルとディレクトリの glob パターンを含むセットです。
- **ユニバース (Ω)**: すべてのファイルとディレクトリのセットです。

`--exclude` リストおよび/または `--include` リストを指定した場合、次の論理が適用されます。

### ケースと論理

1. **インクルード リストなし、エクスクルード リストなし**  
   すべてのファイルをインクルードします:

   $$
   \neg A \cap \neg B \implies \Omega
   $$

2. **インクルード リストなし、エクスクルード リストあり**  
   エクスクルード リストに一致するものを除いて、すべてのファイルをインクルードします:

   $$
   \neg A \cap B \implies \Omega \setminus B
   $$

3. **インクルード リストあり、エクスクルード リストなし**  
   インクルード リストに一致するファイルのみをインクルードします:

   $$
   A \cap \neg B \implies A
   $$

4. **インクルード リストあり、エクスクルード リストあり**  
   インクルード リストに一致するものをインクルードし、エクスクルード リストに一致するものをエクスクルードします。`include_priority` パラメーターに基づいて交差を処理します。

   - **Include priority == true**:

     $$
     A \setminus (A \cap B)
     $$

   - **Include priority != true**:
     $$
     B \setminus (A \cap B)
     $$

### ケース 4 の視覚的な表現

(A) と (B) が重なり合うとします。優先度に応じて、交差 $$( A \cap B )$$ は `include_priority` パラメーターに基づいてインクルードまたはエクスクルードされます。

![ケース 4 の視覚的な表現](../../../../../assets/filter.png)

> このページは便宜上、自動的に翻訳されています。元のコンテンツについては英語版を参照してください。
